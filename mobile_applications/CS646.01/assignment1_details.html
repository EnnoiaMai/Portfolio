<!DOCTYPE html>
<!--
Thuc Nguyen
Date Created: January 2018
-->
<html>
  <head>
    <title>CS646.01 Assignment 1 - Converting Currencies</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta name="description" content="Thuc Nguyen's Portfolio">
    <meta name="author" content="Thuc Nguyen">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css?family=Alegreya+Sans|Open+Sans|Source+Sans+Pro" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../../css/details.css">
    <link rel="stylesheet" type="text/css" href="../../css/sidebar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism-tomorrow.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-java.min.js"></script>
    <script type="text/javascript" src="../../js/sidebar.js"></script>
    <script type="text/javascript" src="../../js/details.js"></script>
  </head>
  <body>
      <div id="sidebar">
          <div id="menu_icon">
              <img src="../../images/ic_menu_white_36dp_1x.png" alt="Menu">
              <img src="../../images/ic_menu_highlighted_36dp_1x.png" alt="Menu">
          </div>
          <ul>
              <li><a href="../../index.html" id="link_home">Home</a></li>
              <li><a href="../../html/projects.html" id="link_projects">Projects</a></li>
              <div id="submenu">
                  <a href="../../html/languages_and_syntax.html" id="link_languages_and_syntax">Languages and Syntax</a>
                  <div>
                      <img src="../../images/ic_arrow_drop_down_white_36dp_1x.png" alt="open">
                  </div>
              </div>
              <li id="submenu_links">
                  <ul>
                      <li><a href="../../html/syntax_java.html" id="link_syntax_java">Java</a></li>
                      <li><a href="../../html/syntax_swift_4.html" id="link_syntax_swift">Swift 4.0</a></li>
                      <li><a href="../../html/syntax_cpp.html" id="link_syntax_cpp">C/C++</a></li>
                      <li><a href="../../html/syntax_html.html" id="link_syntax_html">HTML</a></li>
                      <li><a href="../../html/syntax_css.html" id="link_syntax_css">CSS</a></li>
                      <li><a href="../../html/syntax_javascript.html" id="link_syntax_js">JavaScript</a></li>
                      <li><a href="../../html/syntax_jquery.html" id="link_syntax_jquery">JQuery</a></li>
                      <li><a href="../../html/syntax_ajax.html" id="link_syntax_ajax">AJAX</a></li>
                      <li><a href="../../html/syntax_php.html" id="link_syntax_php">PHP</a></li>
                      <li><a href="../../html/syntax_perl.html" id="link_syntax_perl">Perl</a></li>
                      <li><a href="../../html/syntax_mysql.html" id="link_syntax_mysql">MySQL</a></li>
                      <li><a href="../../html/syntax_python.html" id="link_syntax_python">Python</a></li>
                      <li><a href="../../html/syntax_bash.html" id="link_syntax_bash">Bash</a></li>
                  </ul>
              </li>
          </ul>
      </div>

        <div id="content">
            <div id="content_header" class="header_cs646_01">
              <h1>CS646.01 Assignment 1 - Converting Currencies</h1>
            </div>

          <div class="section">
            <h2>Assignment</h2>
            <p><b>Convert</b></p>
            <p>Create an app that converts USD to INR and INR to USD. Use the rate 1 INR = 0.016 USD and 1 USD = 63.89 INR. The user can enter either INR or USD. When they press the Convert button the amount gets converted into the other currency.</p>
            <br>
            <p>Create two layouts for the activity, one landscape and one portrait. The layout for each view is shown below. Note that the order of the text views and button are different in the two different views. Match those views. When the user rotates the device, the amounts remain in the fields.</p>
            <br>
            <div id="cs646_01_assignment1_example">
              <img src="../../images/screenshots/CS646_01_Assignment1_orientations.png" alt="CS646.01 Assignment 1 Orientations">
            </div>
            <br>
            <p>When you create your project set the minimum required SDK to API 19 (Android 4.4 KitKat). All non-numeric text displayed on the screen should be in the strings resource file. The user should only be able to enter decimal values in the fields. When the device is rotated, the correct amounts should still be displayed in the edit text fields. When the amounts are converted, the resulting values should display two decimal values.</p>
          </div>

          <div class="section">
            <h2>Implementation Details</h2>
            <p>In order to lay out the buttons and edit text fields in the desired positions, separate layout XML files had to be created, one for the portrait orientation and the other for landscape. Under resources, a directory called <span class="highlight">"layout-land"</span> was conventionally named to be associated with the <span class="highlight">"layout"</span> directory. The name of the layout files under each of these directories had to be the same in order for the correct layout to display on orientation change.</p>
            <br>
            <div class="preview_div_portrait_landscape">
              <div>
                <p>The application in portrait mode.</p>
                <img src="../../images/screenshots/CS646_01_Assignment1_portrait.png" alt="CS646.01 Assignment 1 Portrait Orientation">
              </div>
              <div>
                <p>The application in landscape mode.</p>
                <img src="../../images/screenshots/CS646_01_Assignment1_landscape.png" alt="CS646.01 Assignment 1 Landscape Orientation">
              </div>
            </div>
            <br>

            <h3 class="applicable_files">ConvertActivity.java</h3>
            <p>An enum called <span class="code_CS646_01">FocusedEditText</span> was declared and the property <span class="code_CS646_01">currentFocusedEditText</span> was instantiated to <span class="code_CS646_01">.NONE</span>. The property is used to mark which edit text field the user just tapped on, or is in focus. This allows the unfocused text field to be cleared of text to make it more clear to the user which currency is being converted.</p>
            <br>
    <pre><code class="language-java">
    private FocusedEditText currentFocusedEditText = FocusedEditText.NONE;

    private enum FocusedEditText {
    USD,
    INR,
    NONE
    }
    </code></pre>
            <br>

            <ul>
              <li><span class="code_method">initializeWidgets()</span> - calls <span class="code_CS646_01">this.findViewById()</span> to get a reference to the widgets in Resources. Also sets the click and focus listeners on the button and edit text fields.</li>
              <br>
              <li><span class="code_method">convertInputValue()</span> - takes the value of the currently focused edit text field, converts it to a float, and calculates the new amount converted to the other currency. Something interesting to note was that a formatted string with the proper locale had to be used to set the edit text field.</li>
              <br>
    <pre><code class="language-java">
    useEditText.setText(String.format(Locale.US, "%.2f", (usdInputValue * usdRate)));
    </code></pre>
            </ul>
            <br>

            <h3>Implementing Listeners</h3>
            <ul>
              <li><span class="code_method">onClick()</span> - if the convert button was clicked, <span class="code_method">convertInputValue()</span> was fired.</li>
              <br>
              <li><span class="code_method">onFocusChange()</span> - whenever an edit text field was focused on by the tap of the user, the <span class="code_CS646_01">currentFocusedEditText</span> property was updated and the text of the unfocused field was set to an empty string.</li>
            </ul>
            <br>

            <h3>Temporarily Saving the Text of the Edit Text Fields</h3>
            <ul>
              <li><span class="code_method">onSaveInstanceState()</span> - puts the strings from both the USD and INR edit text fields into the bundle.</li>
              <br>
              <li><span class="code_method">onRestoreInstanceState()</span> - retrieves the strings using the appropriate keys and sets those values as the text to the edit text fields.</li>
            </ul>
            <br>
            <div class="preview_div_phone_both_orientations">
              <img src="../../images/screenshots/CS646_01_Assignment1_preview.gif" alt="CS646.01 Assignment 1 Preview">
            </div>
          </div>
        </div>
  </body>
</html>
